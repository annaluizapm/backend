# üöÄ Configura√ß√£o Vercel - Passo a Passo

## ‚ö†Ô∏è IMPORTANTE: Configure as Vari√°veis de Ambiente

As rotas s√≥ funcionar√£o depois de configurar as vari√°veis de ambiente na Vercel.

## üìù Passo a Passo

### 1. Acesse o Painel da Vercel
- V√° para [vercel.com](https://vercel.com)
- Entre no seu projeto (backend)

### 2. Configure as Vari√°veis de Ambiente

1. Clique em **Settings** (Configura√ß√µes)
2. No menu lateral, clique em **Environment Variables**
3. Adicione TODAS estas vari√°veis:

```
MYSQL_HOST=bcyhhgbjn9mmm5no5dnd-mysql.services.clever-cloud.com
MYSQL_USER=ubwtkenqflr70rbf
MYSQL_PASSWORD=XcR0SsOMXsRdknKeThQu
MYSQL_DATABASE=bcyhhgbjn9mmm5no5dnd
MYSQL_PORT=3306
NODE_ENV=production
```

4. Para cada vari√°vel:
   - Cole o **nome** (ex: `MYSQL_HOST`)
   - Cole o **valor** (ex: `bcyhhgbjn9mmm5no5dnd-mysql.services.clever-cloud.com`)
   - Marque **todos os ambientes**: ‚úÖ Production ‚úÖ Preview ‚úÖ Development
   - Clique em **Save**

### 3. Redeploy do Projeto

Depois de adicionar TODAS as vari√°veis:

**Op√ß√£o A - Pela Interface:**
1. V√° em **Deployments**
2. Clique nos **tr√™s pontos (...)** do √∫ltimo deployment
3. Clique em **Redeploy**
4. Confirme

**Op√ß√£o B - Pelo Terminal:**
```bash
cd back
vercel --prod
```

### 4. Teste as Rotas

Ap√≥s o deploy, teste:

```
https://seu-projeto.vercel.app/api/test
https://seu-projeto.vercel.app/api/usuarios
https://seu-projeto.vercel.app/api/postagens
```

## üîç Verificar Logs

Se ainda tiver erro:

1. V√° em **Deployments**
2. Clique no deployment mais recente
3. Clique em **Functions** ‚Üí **api/index**
4. Veja os logs de erro

## ‚úÖ Checklist

- [ ] Todas as 6 vari√°veis de ambiente adicionadas
- [ ] Vari√°veis marcadas para Production, Preview e Development
- [ ] Projeto redeployado ap√≥s adicionar vari√°veis
- [ ] Rota `/api/test` funcionando
- [ ] Rotas da API retornando dados

## üÜò Ainda com Erro?

Se ap√≥s configurar as vari√°veis ainda der erro `ECONNREFUSED`:

1. Verifique se o banco MySQL do Clever Cloud est√° ativo
2. Teste a conex√£o com o banco localmente primeiro
3. Verifique se o IP da Vercel est√° permitido no Clever Cloud

### Testar Conex√£o Local

```bash
npm start
```

Se funcionar localmente mas n√£o na Vercel, o problema √© falta de vari√°veis de ambiente.
